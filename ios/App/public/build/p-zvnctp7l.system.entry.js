var __extends=this&&this.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var __awaiter=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function u(e){try{c(n["throw"](e))}catch(e){s(e)}}function c(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,u)}c((n=n.apply(e,t||[])).next())})};var __generator=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(s=o[0]&2?i["return"]:o[0]?i["throw"]||((s=i["return"])&&s.call(i),0):i.next)&&!(s=s.call(i,o[1])).done)return s;if(i=0,s)o=[o[0]&2,s.value];switch(o[0]){case 0:case 1:s=o;break;case 4:r.label++;return{value:o[1],done:false};case 5:r.label++;i=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(s=r.trys,s=s.length>0&&s[s.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!s||o[1]>s[0]&&o[1]<s[3])){r.label=o[1];break}if(o[0]===6&&r.label<s[1]){r.label=s[1];s=o;break}if(s&&r.label<s[2]){r.label=s[2];r.ops.push(o);break}if(s[2])r.ops.pop();r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e];i=0}finally{n=s=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};System.register(["./p-3157b6a5.system.js","./p-28926b8d.system.js"],function(e){"use strict";var t,r,n;return{setters:[function(e){t=e.r;r=e.h},function(e){n=e.P}],execute:function(){function i(e){return typeof e==="function"}var s=false;var o={Promise:undefined,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else if(s){console.log("RxJS: Back to a better error behavior. Thank you. <3")}s=e},get useDeprecatedSynchronousErrorHandling(){return s}};function u(e){setTimeout(function(){throw e},0)}var c={closed:true,next:function(e){},error:function(e){if(o.useDeprecatedSynchronousErrorHandling){throw e}else{u(e)}},complete:function(){}};var a=Array.isArray||function(e){return e&&typeof e.length==="number"};function l(e){return e!==null&&typeof e==="object"}function h(e){Error.call(this);this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"";this.name="UnsubscriptionError";this.errors=e;return this}h.prototype=Object.create(Error.prototype);var f=h;var p=function(){function e(e){this.closed=false;this._parentOrParents=null;this._subscriptions=null;if(e){this._unsubscribe=e}}e.prototype.unsubscribe=function(){var t;if(this.closed){return}var r=this,n=r._parentOrParents,s=r._unsubscribe,o=r._subscriptions;this.closed=true;this._parentOrParents=null;this._subscriptions=null;if(n instanceof e){n.remove(this)}else if(n!==null){for(var u=0;u<n.length;++u){var c=n[u];c.remove(this)}}if(i(s)){try{s.call(this)}catch(e){t=e instanceof f?b(e.errors):[e]}}if(a(o)){var u=-1;var h=o.length;while(++u<h){var p=o[u];if(l(p)){try{p.unsubscribe()}catch(e){t=t||[];if(e instanceof f){t=t.concat(b(e.errors))}else{t.push(e)}}}}}if(t){throw new f(t)}};e.prototype.add=function(t){var r=t;if(!t){return e.EMPTY}switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||typeof r.unsubscribe!=="function"){return r}else if(this.closed){r.unsubscribe();return r}else if(!(r instanceof e)){var n=r;r=new e;r._subscriptions=[n]}break;default:{throw new Error("unrecognized teardown "+t+" added to Subscription.")}}var i=r._parentOrParents;if(i===null){r._parentOrParents=this}else if(i instanceof e){if(i===this){return r}r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1){i.push(this)}else{return r}var s=this._subscriptions;if(s===null){this._subscriptions=[r]}else{s.push(r)}return r};e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);if(r!==-1){t.splice(r,1)}}};return e}();p.EMPTY=function(e){e.closed=true;return e}(new p);function b(e){return e.reduce(function(e,t){return e.concat(t instanceof f?t.errors:t)},[])}var d=typeof Symbol==="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();var y=function(e){__extends(t,e);function t(r,n,i){var s=e.call(this)||this;s.syncErrorValue=null;s.syncErrorThrown=false;s.syncErrorThrowable=false;s.isStopped=false;switch(arguments.length){case 0:s.destination=c;break;case 1:if(!r){s.destination=c;break}if(typeof r==="object"){if(r instanceof t){s.syncErrorThrowable=r.syncErrorThrowable;s.destination=r;r.add(s)}else{s.syncErrorThrowable=true;s.destination=new _(s,r)}break}default:s.syncErrorThrowable=true;s.destination=new _(s,r,n,i);break}return s}t.prototype[d]=function(){return this};t.create=function(e,r,n){var i=new t(e,r,n);i.syncErrorThrowable=false;return i};t.prototype.next=function(e){if(!this.isStopped){this._next(e)}};t.prototype.error=function(e){if(!this.isStopped){this.isStopped=true;this._error(e)}};t.prototype.complete=function(){if(!this.isStopped){this.isStopped=true;this._complete()}};t.prototype.unsubscribe=function(){if(this.closed){return}this.isStopped=true;e.prototype.unsubscribe.call(this)};t.prototype._next=function(e){this.destination.next(e)};t.prototype._error=function(e){this.destination.error(e);this.unsubscribe()};t.prototype._complete=function(){this.destination.complete();this.unsubscribe()};t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;this._parentOrParents=null;this.unsubscribe();this.closed=false;this.isStopped=false;this._parentOrParents=e;return this};return t}(p);var _=function(e){__extends(t,e);function t(t,r,n,s){var o=e.call(this)||this;o._parentSubscriber=t;var u;var a=o;if(i(r)){u=r}else if(r){u=r.next;n=r.error;s=r.complete;if(r!==c){a=Object.create(r);if(i(a.unsubscribe)){o.add(a.unsubscribe.bind(a))}a.unsubscribe=o.unsubscribe.bind(o)}}o._context=a;o._next=u;o._error=n;o._complete=s;return o}t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;if(!o.useDeprecatedSynchronousErrorHandling||!t.syncErrorThrowable){this.__tryOrUnsub(this._next,e)}else if(this.__tryOrSetError(t,this._next,e)){this.unsubscribe()}}};t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;var r=o.useDeprecatedSynchronousErrorHandling;if(this._error){if(!r||!t.syncErrorThrowable){this.__tryOrUnsub(this._error,e);this.unsubscribe()}else{this.__tryOrSetError(t,this._error,e);this.unsubscribe()}}else if(!t.syncErrorThrowable){this.unsubscribe();if(r){throw e}u(e)}else{if(r){t.syncErrorValue=e;t.syncErrorThrown=true}else{u(e)}this.unsubscribe()}}};t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};if(!o.useDeprecatedSynchronousErrorHandling||!t.syncErrorThrowable){this.__tryOrUnsub(r);this.unsubscribe()}else{this.__tryOrSetError(t,r);this.unsubscribe()}}else{this.unsubscribe()}}};t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){this.unsubscribe();if(o.useDeprecatedSynchronousErrorHandling){throw e}else{u(e)}}};t.prototype.__tryOrSetError=function(e,t,r){if(!o.useDeprecatedSynchronousErrorHandling){throw new Error("bad call")}try{t.call(this._context,r)}catch(t){if(o.useDeprecatedSynchronousErrorHandling){e.syncErrorValue=t;e.syncErrorThrown=true;return true}else{u(t);return true}}return false};t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null;this._parentSubscriber=null;e.unsubscribe()};return t}(y);function v(e){while(e){var t=e.closed,r=e.destination,n=e.isStopped;if(t||n){return false}else if(r&&r instanceof y){e=r}else{e=null}}return true}function w(e,t,r){if(e){if(e instanceof y){return e}if(e[d]){return e[d]()}}if(!e&&!t&&!r){return new y(c)}return new y(e,t,r)}var m=typeof Symbol==="function"&&Symbol.observable||"@@observable";function g(){}function E(e){if(!e){return g}if(e.length===1){return e[0]}return function t(r){return e.reduce(function(e,t){return t(e)},r)}}var S=function(){function e(e){this._isScalar=false;if(e){this._subscribe=e}}e.prototype.lift=function(t){var r=new e;r.source=this;r.operator=t;return r};e.prototype.subscribe=function(e,t,r){var n=this.operator;var i=w(e,t,r);if(n){i.add(n.call(i,this.source))}else{i.add(this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i))}if(o.useDeprecatedSynchronousErrorHandling){if(i.syncErrorThrowable){i.syncErrorThrowable=false;if(i.syncErrorThrown){throw i.syncErrorValue}}}return i};e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){if(o.useDeprecatedSynchronousErrorHandling){e.syncErrorThrown=true;e.syncErrorValue=t}if(v(e)){e.error(t)}else{console.warn(t)}}};e.prototype.forEach=function(e,t){var r=this;t=x(t);return new t(function(t,n){var i;i=r.subscribe(function(t){try{e(t)}catch(e){n(e);if(i){i.unsubscribe()}}},n,t)})};e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)};e.prototype[m]=function(){return this};e.prototype.pipe=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(e.length===0){return this}return E(e)(this)};e.prototype.toPromise=function(e){var t=this;e=x(e);return new e(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})};return e}();S.create=function(e){return new S(e)};function x(e){if(!e){e=Promise}if(!e){throw new Error("no Promise impl found")}return e}function T(){Error.call(this);this.message="object unsubscribed";this.name="ObjectUnsubscribedError";return this}T.prototype=Object.create(Error.prototype);var O=T;var k=function(e){__extends(t,e);function t(t,r){var n=e.call(this)||this;n.subject=t;n.subscriber=r;n.closed=false;return n}t.prototype.unsubscribe=function(){if(this.closed){return}this.closed=true;var e=this.subject;var t=e.observers;this.subject=null;if(!t||t.length===0||e.isStopped||e.closed){return}var r=t.indexOf(this.subscriber);if(r!==-1){t.splice(r,1)}};return t}(p);var P=function(e){__extends(t,e);function t(t){var r=e.call(this,t)||this;r.destination=t;return r}return t}(y);var j=function(e){__extends(t,e);function t(){var t=e.call(this)||this;t.observers=[];t.closed=false;t.isStopped=false;t.hasError=false;t.thrownError=null;return t}t.prototype[d]=function(){return new P(this)};t.prototype.lift=function(e){var t=new D(this,this);t.operator=e;return t};t.prototype.next=function(e){if(this.closed){throw new O}if(!this.isStopped){var t=this.observers;var r=t.length;var n=t.slice();for(var i=0;i<r;i++){n[i].next(e)}}};t.prototype.error=function(e){if(this.closed){throw new O}this.hasError=true;this.thrownError=e;this.isStopped=true;var t=this.observers;var r=t.length;var n=t.slice();for(var i=0;i<r;i++){n[i].error(e)}this.observers.length=0};t.prototype.complete=function(){if(this.closed){throw new O}this.isStopped=true;var e=this.observers;var t=e.length;var r=e.slice();for(var n=0;n<t;n++){r[n].complete()}this.observers.length=0};t.prototype.unsubscribe=function(){this.isStopped=true;this.closed=true;this.observers=null};t.prototype._trySubscribe=function(t){if(this.closed){throw new O}else{return e.prototype._trySubscribe.call(this,t)}};t.prototype._subscribe=function(e){if(this.closed){throw new O}else if(this.hasError){e.error(this.thrownError);return p.EMPTY}else if(this.isStopped){e.complete();return p.EMPTY}else{this.observers.push(e);return new k(this,e)}};t.prototype.asObservable=function(){var e=new S;e.source=this;return e};return t}(S);j.create=function(e,t){return new D(e,t)};var D=function(e){__extends(t,e);function t(t,r){var n=e.call(this)||this;n.destination=t;n.source=r;return n}t.prototype.next=function(e){var t=this.destination;if(t&&t.next){t.next(e)}};t.prototype.error=function(e){var t=this.destination;if(t&&t.error){this.destination.error(e)}};t.prototype.complete=function(){var e=this.destination;if(e&&e.complete){this.destination.complete()}};t.prototype._subscribe=function(e){var t=this.source;if(t){return this.source.subscribe(e)}else{return p.EMPTY}};return t}(j);var H=function(e){__extends(t,e);function t(t){var r=e.call(this)||this;r._value=t;return r}Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:true,configurable:true});t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);if(r&&!r.closed){t.next(this._value)}return r};t.prototype.getValue=function(){if(this.hasError){throw this.thrownError}else if(this.closed){throw new O}else{return this._value}};t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)};return t}(j);var M=n.CapacitorDataStorageSqlite;function L(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return[4,M.set({key:e,value:JSON.stringify(t)})];case 1:r.sent();return[2]}})})}function U(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(r){switch(r.label){case 0:return[4,M.get({key:e})];case 1:t=r.sent();return[2,JSON.parse(t.value)]}})})}var V=function(){function e(){}e.prototype.fetch=function(e,t){return __awaiter(this,void 0,void 0,function(){var r,n;return __generator(this,function(i){switch(i.label){case 0:if(!(t!=null))return[3,2];return[4,fetch(e,t)];case 1:n=i.sent();return[3,4];case 2:return[4,fetch(e)];case 3:n=i.sent();i.label=4;case 4:r=n;return[2,r]}})})};return e}();var A=new V;var R=function(){function e(){this.twitterTimeline=new H([]);this.getTwitterTimeline()}e.prototype.getTwitterTimeline=function(){return __awaiter(this,void 0,void 0,function(){var e,t,r,n,i;return __generator(this,function(s){switch(s.label){case 0:e="https://us-central1-api-project-324114021707.cloudfunctions.net/getTimeline";s.label=1;case 1:s.trys.push([1,7,,9]);return[4,A.fetch(e,{method:"GET"})];case 2:t=s.sent();if(!!t.ok)return[3,3];throw new Error(t.statusText);case 3:return[4,t.json()];case 4:r=s.sent();console.log(r);this.twitterTimeline.next(r);return[4,L("ScreenNews",r)];case 5:s.sent();s.label=6;case 6:return[3,9];case 7:n=s.sent();return[4,U("ScreenNews")];case 8:i=s.sent();if(i!=null){this.twitterTimeline.next(i)}else{this.twitterTimeline.next(null)}return[3,9];case 9:return[2]}})})};e.prototype.getTweet=function(e){return __awaiter(this,void 0,void 0,function(){var t,r,n,i;return __generator(this,function(s){switch(s.label){case 0:t="https://us-central1-api-project-324114021707.cloudfunctions.net/getTweet?id="+e;s.label=1;case 1:s.trys.push([1,6,,7]);return[4,A.fetch(t,{method:"GET"})];case 2:r=s.sent();if(!!r.ok)return[3,3];throw new Error(r.statusText);case 3:return[4,r.json()];case 4:n=s.sent();console.log(n);return[2,n];case 5:return[3,7];case 6:i=s.sent();console.log(i);return[3,7];case 7:return[2]}})})};return e}();var Y=new R;var z=function(){function e(e){t(this,e);this.skeleton=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16];this.twitterTimelineObservable=Y.twitterTimeline}e.prototype.componentDidLoad=function(){var e=this;this.twitterTimelineSubscription=this.twitterTimelineObservable.subscribe(function(t){e.tweets=t})};e.prototype.componentDidUnload=function(){this.twitterTimelineSubscription.unsubscribe()};e.prototype.componentWillRender=function(){};e.prototype.renderMedia=function(e){if(e.entities.media){if(e.extended_entities.media.length>0){return r("div",null,e.extended_entities.media.map(function(e){return r("img",{src:e.media_url_https})}))}}};e.prototype.renderData=function(){var e=this;if(this.tweets!=null){if(this.tweets.length>0){return r("ion-list",null,this.tweets.map(function(t){return r("ion-card",null,r("ion-item",{lines:"none"},r("ion-avatar",{slot:"start"},t.retweeted_status?r("img",{src:t.retweeted_status.user.profile_image_url_https}):r("img",{src:t.user.profile_image_url_https})),r("ion-label",null,t.retweeted_status?r("h2",{innerHTML:t.retweeted_status.user.name}):r("h2",{innerHTML:t.user.name}),t.retweeted_status?r("p",{innerHTML:"@"+t.retweeted_status.user.screen_name}):r("p",{innerHTML:"@"+t.user.screen_name}))),e.renderMedia(t),r("ion-card-content",null,t.full_text))}))}else{return r("ion-list",null,this.skeleton.map(function(){return r("ion-card",null,r("ion-item",{lines:"none"},r("ion-avatar",{slot:"start"},r("ion-skeleton-text",{animated:true})),r("ion-label",null,r("h3",null,r("ion-skeleton-text",{animated:true,class:"skeleton-80"})))),r("ion-card-content",null,r("ion-thumbnail",{class:"skeleton-card-image",slot:"start"},r("ion-skeleton-text",{animated:true})),r("ion-item",{lines:"none","text-left":true},r("ion-label",null,r("ion-skeleton-text",{animated:true,class:"skeleton-100"}),r("ion-skeleton-text",{animated:true,class:"skeleton-70"}),r("ion-skeleton-text",{animated:true,class:"skeleton-80"})))))}))}}else{return r("ion-item",{lines:"none","text-left":true},r("ion-label",null,r("h3",null,"There seems to be a problem with your connection. Pull down to refresh!")))}};e.prototype.render=function(){return[r("ion-header",null,r("ion-toolbar",null,r("ion-title",null,r("img",{class:"logo",src:"/assets/logo/logo.svg"})))),r("ion-content",null,r("ion-refresher",{slot:"fixed",id:"refresher"},r("ion-refresher-content",null)),r("ion-grid",null,r("ion-row",{"justify-content-center":true,"align-items-center":true,class:"center-row"},r("ion-col",{sizeMd:"11",sizeLg:"10",sizeXl:"8"},this.renderData()))))]};Object.defineProperty(e,"style",{get:function(){return".logo{max-height:35px}.skeleton-50{width:50%}.skeleton-100{width:100%}.skeleton-80{width:80%}.skeleton-70{width:70%}ion-thumbnail.skeleton-card-image{width:100%!important;height:300px!important}.center-row{-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:center!important;justify-content:center!important}"},enumerable:true,configurable:true});return e}();e("screen_news",z)}}});